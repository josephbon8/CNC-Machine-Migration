{
  "version": 4,
  "terraform_version": "1.11.3",
  "serial": 41,
  "lineage": "a89c66e2-80a9-b394-c546-035a5fe0ce96",
  "outputs": {
    "cert_pem": {
      "value": "-----BEGIN CERTIFICATE-----\nMIIDWTCCAkGgAwIBAgIUZh686ur1uEBZrV4o33mrhqNcUNIwDQYJKoZIhvcNAQEL\nBQAwTTFLMEkGA1UECwxCQW1hem9uIFdlYiBTZXJ2aWNlcyBPPUFtYXpvbi5jb20g\nSW5jLiBMPVNlYXR0bGUgU1Q9V2FzaGluZ3RvbiBDPVVTMB4XDTI1MDYwNjAyMzgz\nMloXDTQ5MTIzMTIzNTk1OVowHjEcMBoGA1UEAwwTQVdTIElvVCBDZXJ0aWZpY2F0\nZTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAOBNugUSBsijPOlhbg5u\nv/iL36aglXfw267hwrk650rYfp0kZp23dvB2siG1dqM7Jz0iTZ4QbjypiGRWC1MF\nTvFYV+SH14Aj2OECW9+C8D3C3T46DQZ8HQMiOqK4Kafw2aHZnGrfZu30pBPh9MLn\nHdiVXBqrGDFqsmY7J+n0z5ajp+6NJv7R177hTAw/eO50VLeJasNuyCUaGsngYIbc\nqTTgIB7XVOAyX0N7UVP5Sr5SxHZMpcl7KMI2nHbYtAmhKH/D2wJQBxiplvJhuDdN\n94h5R/jzgXSJvpuKNdx3ULL2/vU981F3cLqDKF2XXfO2OzjRiKS/BuHDvj9vHF1d\ntbECAwEAAaNgMF4wHwYDVR0jBBgwFoAUBSdbet1LAEKsXMa/zhrtpEB8T84wHQYD\nVR0OBBYEFL5SgZvpWbto3HcM0xc1Qm5pDS36MAwGA1UdEwEB/wQCMAAwDgYDVR0P\nAQH/BAQDAgeAMA0GCSqGSIb3DQEBCwUAA4IBAQCLb76HJkiaIVUrbuHTkmjPLIiE\nWMcCJpdLE/2Y0quItni0Xxkf8G7vHuiwvGq7akucZeMs4j5qw6KiENRL28zBFwPp\nX7wYccUDbMXJ5p1MA8y7AuGMR8yulJdLfzdr2DHAwg3zjDJcx35eaUvohz4ZGMgm\nTDHhavhDWHcWUtz2YMfyO5mJ622Fj/WtoFEHMBoIRNM/ZZM8quPjC1amUcV09sIb\nYttAIKqQ8hUOl3HS374XD/cRajNzVqxesGqfloLC09m6KmiIVMUCvJojrJryBm8m\nNOFAOOi94YmAwEjbHDJF4Int7qwlcvErgtaQW6zGmKmTs3QJDKYEh5ZT9hMp\n-----END CERTIFICATE-----\n",
      "type": "string",
      "sensitive": true
    },
    "private_key": {
      "value": "-----BEGIN RSA PRIVATE KEY-----\nMIIEpAIBAAKCAQEA4E26BRIGyKM86WFuDm6/+IvfpqCVd/DbruHCuTrnSth+nSRm\nnbd28HayIbV2ozsnPSJNnhBuPKmIZFYLUwVO8VhX5IfXgCPY4QJb34LwPcLdPjoN\nBnwdAyI6orgpp/DZodmcat9m7fSkE+H0wucd2JVcGqsYMWqyZjsn6fTPlqOn7o0m\n/tHXvuFMDD947nRUt4lqw27IJRoayeBghtypNOAgHtdU4DJfQ3tRU/lKvlLEdkyl\nyXsowjacdti0CaEof8PbAlAHGKmW8mG4N033iHlH+POBdIm+m4o13HdQsvb+9T3z\nUXdwuoMoXZdd87Y7ONGIpL8G4cO+P28cXV21sQIDAQABAoIBACSR55s+BiceHic6\nwFPQELJ4M52aHuRwO5D2s+W5Sc51H6eFMMnUCKtJ3t8KE+6nDU21UwxLR33Sci9R\nrAT8H5PPwHy8/RCiR5Df7pSxZ3PaWnHzyv3crGo/YWn4Nqpv5TuzHAJ8q+5t7XZk\nZ6CDR+Vw7JRYgthDuhRa3rYROOspM2mXW1HjLZhCnTDesyIstA7bHcIijkkQhzaw\nxOljkueVVzjt4PROJTMnzqlDE4G2MYsbQ2QUQ3+1kVNKwrwOsiKJyO+G0iadi1Ax\nOpfXtpkBpELwoY47QdfL8k/a6rUi96HyBMtNWKNUA+Pw2E2hzqDDGhT4sE4FBJnx\nLfEECgECgYEA8xS3EYGQdwnQ9Gd0Q6pOvlZM9zVPl2wwFYoKlbi89EQeYOp15nnp\n3H6pMRagGFPQuShb+zZXTtbZHEeFv2dn7unqKwDROXkk+rapA13nK95PMJmNkITo\noi+NDbjrjZcTnNHIJdJgJOQ0coUO5vXTk4uuwaqXR8eOKPl5PF+6uZECgYEA7DmI\niAfSPsVmFIYCYplrkMi1ycDDZN2lwVIj3A0+ZBmBQSB36EwwkFilhN1ykyq2e+E4\nOCnHBVt9rTTzyl/rTmZjzHxEIsMm7tmAViNnKxlyiU6Ox3FSqwYAURbXoFHHhlem\nnPK8ozLkhQTQuAEqQvzacwYRe2z6s47ld0k6KiECgYEA43ZI8Jq7IokO/QUp6H+f\ne8Cp+NHsDpfwTteDnCLovfJYMvxzIx6F1gy4KfUwDlOwBvNbTzHEdUPamfnbkAYl\nXY2J0H/NSOixz+HJOhtOzOAUXjfyHoAgaFPyvBqEYVQzyBUOI0Y/LYZWBau5DCqQ\nt4qIFzWYplR4FKON7Q7vXeECgYEA5RwMArtrO/xivGcZKx5YCG3SeuJd4Jdk63JK\nW2Pw7k8aYNsn0QMMWwPPTWUmefwET3Qp/bbvU4/f/b0M8mxDoZ+HDc48m2ahfSkw\n4tqldlTRFME/k8qifkNszTkVW2XV2cNrUm/Pa42xvB3mfYCLx7rL+KGbFRWmtb5T\nanV4V2ECgYA+2d0pCLOHFcfZ3j2n9lc+2HuR1ftXxNNAgfB+wSf7vurU1OPtW+LC\nJ+49CmTdKiNNwsbrgBIvp+uH2Mx9XzfEFKx6vAGpek1xu1xLlZGH7ITvGSwlTaAE\n39dLX00rrXGPMqmBxH1ObNpwkE0fOdyRLgC6ZU9X4gMa7QMFhACTUw==\n-----END RSA PRIVATE KEY-----\n",
      "type": "string",
      "sensitive": true
    },
    "public_key": {
      "value": "-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA4E26BRIGyKM86WFuDm6/\n+IvfpqCVd/DbruHCuTrnSth+nSRmnbd28HayIbV2ozsnPSJNnhBuPKmIZFYLUwVO\n8VhX5IfXgCPY4QJb34LwPcLdPjoNBnwdAyI6orgpp/DZodmcat9m7fSkE+H0wucd\n2JVcGqsYMWqyZjsn6fTPlqOn7o0m/tHXvuFMDD947nRUt4lqw27IJRoayeBghtyp\nNOAgHtdU4DJfQ3tRU/lKvlLEdkylyXsowjacdti0CaEof8PbAlAHGKmW8mG4N033\niHlH+POBdIm+m4o13HdQsvb+9T3zUXdwuoMoXZdd87Y7ONGIpL8G4cO+P28cXV21\nsQIDAQAB\n-----END PUBLIC KEY-----\n",
      "type": "string",
      "sensitive": true
    }
  },
  "resources": [
    {
      "mode": "data",
      "type": "aws_caller_identity",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "account_id": "581506697558",
            "arn": "arn:aws:iam::581506697558:user/josephb-user",
            "id": "581506697558",
            "user_id": "AIDAYOZEABFLEDS6CHBT6"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_dynamodb_table",
      "name": "dynamodb_table",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:dynamodb:us-east-1:581506697558:table/cnc_data",
            "attribute": [
              {
                "name": "CNC_ID",
                "type": "S"
              },
              {
                "name": "timestamp",
                "type": "S"
              }
            ],
            "billing_mode": "PROVISIONED",
            "deletion_protection_enabled": false,
            "global_secondary_index": [],
            "hash_key": "CNC_ID",
            "id": "cnc_data",
            "import_table": [],
            "local_secondary_index": [],
            "name": "cnc_data",
            "on_demand_throughput": [],
            "point_in_time_recovery": [
              {
                "enabled": false,
                "recovery_period_in_days": 0
              }
            ],
            "range_key": "timestamp",
            "read_capacity": 20,
            "replica": [],
            "restore_date_time": null,
            "restore_source_name": null,
            "restore_source_table_arn": null,
            "restore_to_latest_time": null,
            "server_side_encryption": [],
            "stream_arn": "",
            "stream_enabled": false,
            "stream_label": "",
            "stream_view_type": "",
            "table_class": "STANDARD",
            "tags": {
              "Environment": "dev",
              "Name": "cnc-table"
            },
            "tags_all": {
              "Environment": "dev",
              "Name": "cnc-table"
            },
            "timeouts": null,
            "ttl": [
              {
                "attribute_name": "TimeToExist",
                "enabled": true
              }
            ],
            "write_capacity": 20
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjozNjAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "dynamodb_access",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::581506697558:policy/dynamodb-access-policy",
            "attachment_count": 1,
            "description": "Policy for DB table that stores CNC machine information",
            "id": "arn:aws:iam::581506697558:policy/dynamodb-access-policy",
            "name": "dynamodb-access-policy",
            "name_prefix": "",
            "path": "/",
            "policy": "{\"Statement\":[{\"Action\":[\"dynamodb:PutItem\",\"dynamodb:GetItem\",\"dynamodb:UpdateItem\",\"dynamodb:Query\",\"dynamodb:Scan\",\"dynamodb:DeleteItem\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:dynamodb:us-east-1:581506697558:table/cnc_data\"}],\"Version\":\"2012-10-17\"}",
            "policy_id": "ANPAYOZEABFLPZMICJINP",
            "tags": {},
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_dynamodb_table.dynamodb_table"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "lambda_permissions",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::581506697558:policy/lambda_exec_permissions",
            "attachment_count": 1,
            "description": "",
            "id": "arn:aws:iam::581506697558:policy/lambda_exec_permissions",
            "name": "lambda_exec_permissions",
            "name_prefix": "",
            "path": "/",
            "policy": "{\"Statement\":[{\"Action\":[\"dynamodb:PutItem\",\"iotsitewise:PutAssetPropertyValue\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}],\"Version\":\"2012-10-17\"}",
            "policy_id": "ANPAYOZEABFLCDQGIBFJT",
            "tags": {},
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "lambda_exec",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::581506697558:role/lambda_exec_role",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
            "create_date": "2025-06-06T02:40:32Z",
            "description": "",
            "force_detach_policies": false,
            "id": "lambda_exec_role",
            "inline_policy": [],
            "managed_policy_arns": [
              "arn:aws:iam::581506697558:policy/dynamodb-access-policy",
              "arn:aws:iam::581506697558:policy/lambda_exec_permissions"
            ],
            "max_session_duration": 3600,
            "name": "lambda_exec_role",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": "",
            "tags": {},
            "tags_all": {},
            "unique_id": "AROAYOZEABFLACES6KOOG"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "lambda_iotsitewise_attach",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "lambda_exec_role-20250615042855788400000001",
            "policy_arn": "arn:aws:iam::581506697558:policy/lambda_exec_permissions",
            "role": "lambda_exec_role"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_policy.lambda_permissions",
            "aws_iam_role.lambda_exec"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "lambda_policy_attach",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "lambda_exec_role-20250606025949449800000001",
            "policy_arn": "arn:aws:iam::581506697558:policy/dynamodb-access-policy",
            "role": "lambda_exec_role"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_dynamodb_table.dynamodb_table",
            "aws_iam_policy.dynamodb_access",
            "aws_iam_role.lambda_exec"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iot_certificate",
      "name": "cert",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "active": true,
            "arn": "arn:aws:iot:us-east-1:581506697558:cert/718f31bce08f227546691785423ab8c329c9d652b68a88f855a904d60a159fbc",
            "ca_certificate_id": "",
            "ca_pem": null,
            "certificate_pem": "-----BEGIN CERTIFICATE-----\nMIIDWTCCAkGgAwIBAgIUZh686ur1uEBZrV4o33mrhqNcUNIwDQYJKoZIhvcNAQEL\nBQAwTTFLMEkGA1UECwxCQW1hem9uIFdlYiBTZXJ2aWNlcyBPPUFtYXpvbi5jb20g\nSW5jLiBMPVNlYXR0bGUgU1Q9V2FzaGluZ3RvbiBDPVVTMB4XDTI1MDYwNjAyMzgz\nMloXDTQ5MTIzMTIzNTk1OVowHjEcMBoGA1UEAwwTQVdTIElvVCBDZXJ0aWZpY2F0\nZTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAOBNugUSBsijPOlhbg5u\nv/iL36aglXfw267hwrk650rYfp0kZp23dvB2siG1dqM7Jz0iTZ4QbjypiGRWC1MF\nTvFYV+SH14Aj2OECW9+C8D3C3T46DQZ8HQMiOqK4Kafw2aHZnGrfZu30pBPh9MLn\nHdiVXBqrGDFqsmY7J+n0z5ajp+6NJv7R177hTAw/eO50VLeJasNuyCUaGsngYIbc\nqTTgIB7XVOAyX0N7UVP5Sr5SxHZMpcl7KMI2nHbYtAmhKH/D2wJQBxiplvJhuDdN\n94h5R/jzgXSJvpuKNdx3ULL2/vU981F3cLqDKF2XXfO2OzjRiKS/BuHDvj9vHF1d\ntbECAwEAAaNgMF4wHwYDVR0jBBgwFoAUBSdbet1LAEKsXMa/zhrtpEB8T84wHQYD\nVR0OBBYEFL5SgZvpWbto3HcM0xc1Qm5pDS36MAwGA1UdEwEB/wQCMAAwDgYDVR0P\nAQH/BAQDAgeAMA0GCSqGSIb3DQEBCwUAA4IBAQCLb76HJkiaIVUrbuHTkmjPLIiE\nWMcCJpdLE/2Y0quItni0Xxkf8G7vHuiwvGq7akucZeMs4j5qw6KiENRL28zBFwPp\nX7wYccUDbMXJ5p1MA8y7AuGMR8yulJdLfzdr2DHAwg3zjDJcx35eaUvohz4ZGMgm\nTDHhavhDWHcWUtz2YMfyO5mJ622Fj/WtoFEHMBoIRNM/ZZM8quPjC1amUcV09sIb\nYttAIKqQ8hUOl3HS374XD/cRajNzVqxesGqfloLC09m6KmiIVMUCvJojrJryBm8m\nNOFAOOi94YmAwEjbHDJF4Int7qwlcvErgtaQW6zGmKmTs3QJDKYEh5ZT9hMp\n-----END CERTIFICATE-----\n",
            "csr": null,
            "id": "718f31bce08f227546691785423ab8c329c9d652b68a88f855a904d60a159fbc",
            "private_key": "-----BEGIN RSA PRIVATE KEY-----\nMIIEpAIBAAKCAQEA4E26BRIGyKM86WFuDm6/+IvfpqCVd/DbruHCuTrnSth+nSRm\nnbd28HayIbV2ozsnPSJNnhBuPKmIZFYLUwVO8VhX5IfXgCPY4QJb34LwPcLdPjoN\nBnwdAyI6orgpp/DZodmcat9m7fSkE+H0wucd2JVcGqsYMWqyZjsn6fTPlqOn7o0m\n/tHXvuFMDD947nRUt4lqw27IJRoayeBghtypNOAgHtdU4DJfQ3tRU/lKvlLEdkyl\nyXsowjacdti0CaEof8PbAlAHGKmW8mG4N033iHlH+POBdIm+m4o13HdQsvb+9T3z\nUXdwuoMoXZdd87Y7ONGIpL8G4cO+P28cXV21sQIDAQABAoIBACSR55s+BiceHic6\nwFPQELJ4M52aHuRwO5D2s+W5Sc51H6eFMMnUCKtJ3t8KE+6nDU21UwxLR33Sci9R\nrAT8H5PPwHy8/RCiR5Df7pSxZ3PaWnHzyv3crGo/YWn4Nqpv5TuzHAJ8q+5t7XZk\nZ6CDR+Vw7JRYgthDuhRa3rYROOspM2mXW1HjLZhCnTDesyIstA7bHcIijkkQhzaw\nxOljkueVVzjt4PROJTMnzqlDE4G2MYsbQ2QUQ3+1kVNKwrwOsiKJyO+G0iadi1Ax\nOpfXtpkBpELwoY47QdfL8k/a6rUi96HyBMtNWKNUA+Pw2E2hzqDDGhT4sE4FBJnx\nLfEECgECgYEA8xS3EYGQdwnQ9Gd0Q6pOvlZM9zVPl2wwFYoKlbi89EQeYOp15nnp\n3H6pMRagGFPQuShb+zZXTtbZHEeFv2dn7unqKwDROXkk+rapA13nK95PMJmNkITo\noi+NDbjrjZcTnNHIJdJgJOQ0coUO5vXTk4uuwaqXR8eOKPl5PF+6uZECgYEA7DmI\niAfSPsVmFIYCYplrkMi1ycDDZN2lwVIj3A0+ZBmBQSB36EwwkFilhN1ykyq2e+E4\nOCnHBVt9rTTzyl/rTmZjzHxEIsMm7tmAViNnKxlyiU6Ox3FSqwYAURbXoFHHhlem\nnPK8ozLkhQTQuAEqQvzacwYRe2z6s47ld0k6KiECgYEA43ZI8Jq7IokO/QUp6H+f\ne8Cp+NHsDpfwTteDnCLovfJYMvxzIx6F1gy4KfUwDlOwBvNbTzHEdUPamfnbkAYl\nXY2J0H/NSOixz+HJOhtOzOAUXjfyHoAgaFPyvBqEYVQzyBUOI0Y/LYZWBau5DCqQ\nt4qIFzWYplR4FKON7Q7vXeECgYEA5RwMArtrO/xivGcZKx5YCG3SeuJd4Jdk63JK\nW2Pw7k8aYNsn0QMMWwPPTWUmefwET3Qp/bbvU4/f/b0M8mxDoZ+HDc48m2ahfSkw\n4tqldlTRFME/k8qifkNszTkVW2XV2cNrUm/Pa42xvB3mfYCLx7rL+KGbFRWmtb5T\nanV4V2ECgYA+2d0pCLOHFcfZ3j2n9lc+2HuR1ftXxNNAgfB+wSf7vurU1OPtW+LC\nJ+49CmTdKiNNwsbrgBIvp+uH2Mx9XzfEFKx6vAGpek1xu1xLlZGH7ITvGSwlTaAE\n39dLX00rrXGPMqmBxH1ObNpwkE0fOdyRLgC6ZU9X4gMa7QMFhACTUw==\n-----END RSA PRIVATE KEY-----\n",
            "public_key": "-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA4E26BRIGyKM86WFuDm6/\n+IvfpqCVd/DbruHCuTrnSth+nSRmnbd28HayIbV2ozsnPSJNnhBuPKmIZFYLUwVO\n8VhX5IfXgCPY4QJb34LwPcLdPjoNBnwdAyI6orgpp/DZodmcat9m7fSkE+H0wucd\n2JVcGqsYMWqyZjsn6fTPlqOn7o0m/tHXvuFMDD947nRUt4lqw27IJRoayeBghtyp\nNOAgHtdU4DJfQ3tRU/lKvlLEdkylyXsowjacdti0CaEof8PbAlAHGKmW8mG4N033\niHlH+POBdIm+m4o13HdQsvb+9T3zUXdwuoMoXZdd87Y7ONGIpL8G4cO+P28cXV21\nsQIDAQAB\n-----END PUBLIC KEY-----\n"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "ca_pem"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "private_key"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "public_key"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "certificate_pem"
              }
            ]
          ],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iot_policy",
      "name": "policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iot:us-east-1:581506697558:policy/cnc_policy",
            "default_version_id": "1",
            "id": "cnc_policy",
            "name": "cnc_policy",
            "policy": "{\"Statement\":[{\"Action\":[\"iot:Connect\",\"iot:Publish\",\"iot:Subscribe\",\"iot:Receive\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}],\"Version\":\"2012-10-17\"}",
            "tags": {},
            "tags_all": {},
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjozMDAwMDAwMDAwMDAsInVwZGF0ZSI6NjAwMDAwMDAwMDB9fQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iot_policy_attachment",
      "name": "policy_attach",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "cnc_policy|arn:aws:iot:us-east-1:581506697558:cert/718f31bce08f227546691785423ab8c329c9d652b68a88f855a904d60a159fbc",
            "policy": "cnc_policy",
            "target": "arn:aws:iot:us-east-1:581506697558:cert/718f31bce08f227546691785423ab8c329c9d652b68a88f855a904d60a159fbc"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iot_certificate.cert",
            "aws_iot_policy.policy"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iot_thing",
      "name": "thing",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iot:us-east-1:581506697558:thing/cnc_machines",
            "attributes": {
              "name": "cnc_device_script"
            },
            "default_client_id": "cnc_machines",
            "id": "cnc_machines",
            "name": "cnc_machines",
            "thing_type_name": "MyThingType",
            "version": 1
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iot_thing_type.thing_type"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iot_thing_principal_attachment",
      "name": "thing_attach",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "cnc_machines|arn:aws:iot:us-east-1:581506697558:cert/718f31bce08f227546691785423ab8c329c9d652b68a88f855a904d60a159fbc",
            "principal": "arn:aws:iot:us-east-1:581506697558:cert/718f31bce08f227546691785423ab8c329c9d652b68a88f855a904d60a159fbc",
            "thing": "cnc_machines"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iot_certificate.cert",
            "aws_iot_thing.thing",
            "aws_iot_thing_type.thing_type"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iot_thing_type",
      "name": "thing_type",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iot:us-east-1:581506697558:thingtype/MyThingType",
            "deprecated": false,
            "id": "MyThingType",
            "name": "MyThingType",
            "properties": [
              {
                "description": "",
                "searchable_attributes": []
              }
            ],
            "tags": {},
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iot_topic_rule",
      "name": "cnc_iot_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iot:us-east-1:581506697558:rule/cnc_iot_rule",
            "cloudwatch_alarm": [],
            "cloudwatch_logs": [],
            "cloudwatch_metric": [],
            "description": "",
            "dynamodb": [],
            "dynamodbv2": [],
            "elasticsearch": [],
            "enabled": true,
            "error_action": [],
            "firehose": [],
            "http": [],
            "id": "cnc_iot_rule",
            "iot_analytics": [],
            "iot_events": [],
            "kafka": [],
            "kinesis": [],
            "lambda": [
              {
                "function_arn": "arn:aws:lambda:us-east-1:581506697558:function:cnc-lambda"
              }
            ],
            "name": "cnc_iot_rule",
            "republish": [],
            "s3": [],
            "sns": [],
            "sql": "SELECT * FROM 'cnc/machine/data'",
            "sql_version": "2016-03-23",
            "sqs": [],
            "step_functions": [],
            "tags": {},
            "tags_all": {},
            "timestream": []
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_dynamodb_table.dynamodb_table",
            "aws_iam_role.lambda_exec",
            "aws_lambda_function.cnc_lambda",
            "aws_lambda_permission.allow_iot",
            "data.aws_caller_identity.current"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lambda_function",
      "name": "cnc_lambda",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "architectures": [
              "x86_64"
            ],
            "arn": "arn:aws:lambda:us-east-1:581506697558:function:cnc-lambda",
            "code_sha256": "5oI93N0a0BeqcW6vHnuUzJmS+vppGUTXovCFRPv2/dM=",
            "code_signing_config_arn": "",
            "dead_letter_config": [],
            "description": "",
            "environment": [
              {
                "variables": {
                  "DYNAMODB_CNC_TABLE": "cnc_data"
                }
              }
            ],
            "ephemeral_storage": [
              {
                "size": 512
              }
            ],
            "file_system_config": [],
            "filename": "lambda.py.zip",
            "function_name": "cnc-lambda",
            "handler": "lambda.handler",
            "id": "cnc-lambda",
            "image_config": [],
            "image_uri": "",
            "invoke_arn": "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:581506697558:function:cnc-lambda/invocations",
            "kms_key_arn": "",
            "last_modified": "2025-06-15T18:47:28.000+0000",
            "layers": [],
            "logging_config": [
              {
                "application_log_level": "",
                "log_format": "Text",
                "log_group": "/aws/lambda/cnc-lambda",
                "system_log_level": ""
              }
            ],
            "memory_size": 128,
            "package_type": "Zip",
            "publish": false,
            "qualified_arn": "arn:aws:lambda:us-east-1:581506697558:function:cnc-lambda:$LATEST",
            "qualified_invoke_arn": "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:581506697558:function:cnc-lambda:$LATEST/invocations",
            "replace_security_groups_on_destroy": null,
            "replacement_security_group_ids": null,
            "reserved_concurrent_executions": -1,
            "role": "arn:aws:iam::581506697558:role/lambda_exec_role",
            "runtime": "python3.11",
            "s3_bucket": null,
            "s3_key": null,
            "s3_object_version": null,
            "signing_job_arn": "",
            "signing_profile_version_arn": "",
            "skip_destroy": false,
            "snap_start": [],
            "source_code_hash": "",
            "source_code_size": 624,
            "tags": {},
            "tags_all": {},
            "timeout": 3,
            "timeouts": null,
            "tracing_config": [
              {
                "mode": "PassThrough"
              }
            ],
            "version": "$LATEST",
            "vpc_config": []
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_dynamodb_table.dynamodb_table",
            "aws_iam_role.lambda_exec"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lambda_permission",
      "name": "allow_iot",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": "lambda:InvokeFunction",
            "event_source_token": null,
            "function_name": "cnc-lambda",
            "function_url_auth_type": null,
            "id": "AllowIoTInvoke",
            "principal": "iot.amazonaws.com",
            "principal_org_id": null,
            "qualifier": "",
            "source_account": null,
            "source_arn": "arn:aws:iot:us-east-1:581506697558:rule/cnc_iot_rule",
            "statement_id": "AllowIoTInvoke",
            "statement_id_prefix": ""
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_dynamodb_table.dynamodb_table",
            "aws_iam_role.lambda_exec",
            "aws_lambda_function.cnc_lambda",
            "data.aws_caller_identity.current"
          ]
        }
      ]
    }
  ],
  "check_results": null
}
